generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model complaint {
  id         String   @id(map: "PK_a9c8dbc2ab4988edcc2ff0a7337") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  text       String
  painLevel  Int
  lastEdited DateTime @default(now()) @db.Timestamp(6)
  patientId  Int?
  patient    patient? @relation(fields: [patientId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model treatment {
  id                    String                     @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  category              entry_category_enum
  region                entry_region_enum?
  spinalLevel           entry_spinallevel_enum?
  extremityLevel        entry_extremitylevel_enum?
  side                  entry_side_enum
  physioPositioning     String?
  treatmentPositioning  String?
  treatmentTechnique    String?
  coldPack              Boolean?
  hotPack               Boolean?
  electStim             Boolean?
  traction              Boolean?
  massage               Boolean?
  treatmentManipulation Boolean?
  noteId                String                     @db.Uuid
  note                  note                       @relation(fields: [noteId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("treatments")
}

model entry {
  id                   String                      @id(map: "PK_a58c675c4c129a8e0f63d3676d6") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  createdDate          DateTime                    @default(now()) @db.Timestamp(6)
  category             entry_category_enum
  region               entry_region_enum?
  spinalLevel          entry_spinallevel_enum?
  extremityLevel       entry_extremitylevel_enum?
  side                 entry_side_enum
  sublux               Boolean
  muscleSpasm          Boolean
  triggerPoints        Boolean
  tenderness           Boolean
  numbness             Boolean
  edema                Boolean
  swelling             Boolean
  reducedMotion        Boolean
  coldPack             Boolean
  hotPack              Boolean
  electStim            Boolean
  traction             Boolean
  massage              Boolean
  technique            positioning_technique_enum?
  manipulation         Boolean
  noteId               String?                     @db.Uuid
  physioPositioning    positioning_technique_enum?
  treatmentPositioning positioning_technique_enum?
  note                 note?                       @relation(fields: [noteId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_df491c2c902d007610301eff36d")
}

model room {
  id         Int      @id @default(autoincrement())
  text       String
  lastEdited DateTime @default(now()) @db.Timestamp(6)
  createdAt  DateTime @default(now()) @db.Timestamp(6)
}

model treatmentOption {
  id         Int                     @id @default(autoincrement())
  text       String
  lastEdited DateTime                @default(now()) @db.Timestamp(6)
  createdAt  DateTime                @default(now()) @db.Timestamp(6)
  category   treatmentOptionCategory
}

enum treatmentOptionCategory {
  physioPositioning
  treatmentPositioning
  treatmentTechnique
}

model TreatmentPlan {
  id     String  @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  nextVisit1 String?
  nextVisit2 String?
  noteId String  @unique @db.Uuid
  note   note    @relation(fields: [noteId], references: [id], onDelete: Cascade)
  
  @@map("treatment_plans")
}

model TreatmentPlanOption {
  id   Int    @id @default(autoincrement())
  text String

  @@map("treatment_plan_options")
}

model note {
  id                       String         @id(map: "PK_96d0c172a4fba276b1bbed43058") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  visitDate                DateTime?      @default(now()) @db.Timestamp(6)
  createdDate              DateTime       @default(now()) @db.Timestamp(6)
  lastEdited               DateTime       @default(now()) @db.Timestamp(6)
  temperature              Decimal?       @db.Decimal(4, 1)
  respiration              Int?
  systolic                 Int?
  diastolic                Int?
  physiotherapy            Int?
  phaseOneRoomAssignment   String?
  physio                   Int?
  tx                       Int?
  otherNotes               String?
  patientId                Int?
  pulse                    Int?
  visitDateText            String?
  phaseTwoRoomAssignment   String?
  phaseThreeRoomAssignment String?
  doctorNote               String?        @db.Text
  phaseFourRoomAssignment  String?
  entry                    entry[]
  treatments               treatment[]
  patient                  patient?       @relation(fields: [patientId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a649a57c157f8cc9c44241e404c")
  TreatmentPlan            TreatmentPlan?
}

model report {
  id            String          @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  exam_date     DateTime        @db.Timestamp(6)
  temp          Float?
  sys           Int?
  dia           Int?
  pulse         Int?
  resp          Int?
  speech        String?
  gait          String?
  rhomberg      String?
  demeanor      String?
  dateAdded     DateTime        @default(now()) @db.Timestamp(6)
  patientId     Int
  patient       patient         @relation(fields: [patientId], references: [id])
  posture       posture[]
  lumbar        lumbar[]
  orthoStanding orthoStanding[]
  cervical      cervical[]
  myoDerm       myoDerm[]
  reflexes      reflexes[]
  orthoSeated   orthoSeated[]
  orthoSupine   orthoSupine[]
  orthoProne    orthoProne[]
}

model posture {
  id              String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name            String
  wnl             String?
  dateAdded       DateTime @default(now()) @db.Timestamp(6)
  tiltName        String?
  tiltEst         String?
  translationName String?
  translationEst  String?
  pronated        String?
  supinated       String?
  rotation        String?
  lordKyph        String?
  reportId        String   @db.Uuid
  report          report   @relation(fields: [reportId], references: [id])
}

model lumbar {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  norm      Int?
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  arom      String?
  pain      String?
  notes     String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model orthoStanding {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  wnl       String?
  lt        String?
  rt        String?
  pain      String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model cervical {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  norm      Int?
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  arom      String?
  pain      String?
  notes     String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model myoDerm {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  wnl       String?
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  lt        String?
  rt        String?
  notes     String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model reflexes {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  level     String?
  wnl       String?
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  lt        String?
  rt        String?
  notes     String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model orthoSeated {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  wnl       String?
  lt        String?
  rt        String?
  referral  String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model orthoSupine {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  wnl       String?
  lt        String?
  rt        String?
  referral  String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model orthoProne {
  id        String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name      String
  dateAdded DateTime @default(now()) @db.Timestamp(6)
  wnl       String?
  lt        String?
  rt        String?
  referral  String?
  reportId  String   @db.Uuid
  report    report   @relation(fields: [reportId], references: [id])
}

model patient {
  id              Int         @id(map: "PK_8dfa510bb29ad31ab2139fbfb99") @default(autoincrement())
  firstName       String
  lastName        String
  middleName      String?
  lastUpdated     DateTime    @default(now()) @db.Timestamp(6)
  email           String      @default("john@gmail.com")
  acctNo          String
  phoneNumber     String?
  heightFeet      Int?
  heightInches    Int?
  weight          Int?
  nextAppointment DateTime?   @db.Timestamp(6)
  createdDate     DateTime    @default(now()) @db.Timestamp(6)
  note            note[]
  complaint       complaint[]
  report          report[]
}

model user {
  id          Int            @id(map: "PK_cace4a159ff9f2512dd42373760") @default(autoincrement())
  firstName   String?
  lastName    String?
  email       String         @default("john@gmail.com")
  role        user_role_enum @default(user)
  firebaseUid String         @unique
}

enum entry_category_enum {
  spinal
  extremity
}

enum positioning_technique_enum {
  a
  b
  c
  d
  e
  f
  g
  h
  i
  j
}

enum entry_extremitylevel_enum {
  shoulder
  arm
  bicep
  tricep
  elbow
  wrist
  hand
  hip
  thigh
  leg
  knee
  calf
  ankle
  foot
}

enum entry_region_enum {
  upper_cerv @map("upper-cerv")
  mid_cerv   @map("mid-cerv")
  lower_cerv @map("lower-cerv")
  sub_occ    @map("sub-occ")
  upper_t    @map("upper-t")
  mid_t      @map("mid-t")
  lower_t    @map("lower-t")
  upper_l    @map("upper-l")
  lower_l    @map("lower-l")
  upper_sac  @map("upper-sac")
  lower_sac  @map("lower-sac")
}

enum entry_side_enum {
  l
  r
  b
}

enum entry_spinallevel_enum {
  occ_c1
  c1_c2
  c2_c3
  c3_c4
  c4_c5
  c5_c6
  c6_c7
  c7_t1
  t1_t2
  t2_t3
  t3_t4
  t4_t5
  t5_t6
  t6_t7
  t7_t8
  t8_t9
  t9_t10
  t10_t11
  t11_t12
  t12_l1
  l1_l2
  l2_l3
  l3_l4
  l4_l5
  l5_s1
  s1_s2
  s2_s3
  s3_s4
  s4_s5
  s5_
}

enum user_role_enum {
  admin
  super_admin @map("super-admin")
  user
}
